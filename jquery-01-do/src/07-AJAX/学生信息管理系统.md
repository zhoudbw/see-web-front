学生信息管理系统

# 一、基础说明

1.所有接口返回结果数据格式：

| **字段** | **类型** | **是否必须** | **备注**                         |
| -------- | -------- | ------------ | -------------------------------- |
| status   | string   | 必须         | 状态码，success为成功,fail为失败 |
| msg      | string   | 必须         | msg为请求结果描述                |
| data     | object   | 非必须       | 当需要返回数据内容时，该字段非空 |

# 二、实体说明

1.student

描述：学生实体、用来描述学生的基本信息

| **字段** | **类型** | **备注**                           |
| -------- | -------- | ---------------------------------- |
| id       | int      | 学生id                             |
| sNo      | string   | 学生学号                           |
| name     | string   | 学生姓名                           |
| email    | string   | 学生邮箱                           |
| sex      | int      | 学生性别：“0”为男  ，“1为女”       |
| birth    | int      | 学生出生年份                       |
| phone    | string   | 学生手机号                         |
| address  | string   | 学生住址                           |
| appkey   | string   | 用户访问接口时所必须携带的身份凭据 |
| ctime    | data     | 创建时间                           |
| utime    | data     | 修改时间                           |

# 三、接口文档

域名：open.duyiedu.com

## 1.查询所有学生

url：/api/student/findAll

method：get

请求参数：

| **字段** | **类型** | **是否必须** | **备注**                           |
| -------- | -------- | ------------ | ---------------------------------- |
| appkey   | String   | 必须         | 用户访问接口时所必须携带的身份凭据 |

返回结果：

1.查询成功返回：

| **字段** | **类型**      | **是否必须** | **备注**          |
| -------- | ------------- | ------------ | ----------------- |
| status   | String        | 必须         | 状态值为：success |
| msg      | String        | 必须         | 返回查询的结果    |
| data     | List<Student> | 必须         | 返回学生信息集合  |

示例：

```json
{
  "status":"success"，
  "msg":"查询成功",
  "data":[
      {
        "id":6,
        "name":"张某某2",
        "birth":1997,
        "sex":1,
        "sNo":"11009",
        "email":"382246268@qq.com",
        "phone":"18846411586",
        "address":"黑龙江省哈尔滨市XXXX",
        "appkey":"demo13_1545210570249",
        "ctime":1547190636,
        "utime":1547190636
      },
      { 
        "id":7,
        "name":"张某某2",
        "birth":1997,
        "sex":1,
        "sNo":"11010",
        "email":"382246268@qq.com",
        "phone":"18846411586",
        "address":"黑龙江省哈尔滨市XXXX",
        "appkey":"demo13_1545210570249",
        "ctime":1547190666,
        "utime":1547190666
      }
  ],
}
```

2.失败返回：

1）

​	示例：

```json
{
  "status":"fail"
  "msg":"appkey不正确",
}
```

## 2.按页查询学生信息

url:/api/student/findByPage

method:get

请求参数：

| **字段** | **类型** | **是否必须** | **备注**                           |
| -------- | -------- | ------------ | ---------------------------------- |
| appkey   | String   | 必须         | 用户访问接口时所必须携带的身份凭据 |
| page     | int      | 必须         | 第几页的页数，page值至少为1        |
| size     | int      | 必须         | 每页显示的数量，size值至少为1      |

返回结果：

1.查询成功返回

| **字段** | **类型**      | **是否必须** | **备注**                     |
| -------- | ------------- | ------------ | ---------------------------- |
| status   | String        | 是           | 查询结果的状态               |
| msg      | String        | 是           | 返回查询的结果               |
| count    | int           | 必须         | 一个用户下创建的所有学生数量 |
| data     | List<Student> | 必须         | 返回学生信息集合             |

示例：

```json
{
    "msg":"查询成功",
    "status":"success"，
    "data":{
        "cont":7,
        "searchList":[
            {
                "address":"黑龙江省哈尔滨市XXXX",
                "appkey":"demo13_1545210570249",
                "birth":1997,
                "ctime":1547190636,
                "email":"382246268@qq.com",
                "id":6,"name":"张某某2",
                "phone":"18846411586",
                "sNo":"11009",
                "sex":1,
                "utime":1547190636
            }
        ]
    }
}
```

## 3.删除一个学生信息

url：/api/student/delBySno

method :get

请求参数：

| **字段** | **类型** | **是否必须** | **备注**                           |
| -------- | -------- | ------------ | ---------------------------------- |
| appkey   | String   | 必须         | 用户访问接口时所必须携带的身份凭据 |
| sNo      | String   | 必须         | 该学生的学号                       |

返回结果：

1.删除成功时：

```json
{
  "msg":"删除成功",
  "status":"success"
}
```



2.删除失败时：

```json
{
   "msg": "未找到该学生",
   "status": "fail"
}
```

或

```json
{
   "msg": "发生未知错误",
   "status": "fail"
}
```

## 4.添加一个学生的信息

url:/api/student/addStudent

method:get

请求参数：

| **字段** | **类型** | **是否必须** | **备注**                            |
| -------- | -------- | ------------ | ----------------------------------- |
| appkey   | String   | 必须         | 用户访问接口时所必须携带的身份凭据  |
| sNo      | String   | 必须         | 该学生的学号                        |
| name     | String   | 必须         | 学生姓名                            |
| sex      | int      | 必须         | 学生性别“0”是男，“1”是女（默认是0） |
| birth    | int      | 必须         | 学生出生年份(默认是0)               |
| phone    | String   | 必须         | 学生的手机号                        |
| address  | String   | 必须         | 学生的住址                          |
| email    | String   | 必须         | 学生邮箱                            |

返回结果：

1.成功返回：

```json
{
  "msg":"添加成功",
  "status":"success"
}
```

2.失败返回：

1)学生已存在：

```json
{
  "msg":"该学生已经存在",
  "status":"fail"
}
```

2)XXX为格式错误：

  如：学号的信息格式错误：

```json
{
  "msg":"学号必须为4-16位的数字组成",
  "status":"fail"
}
```

## 5.修改一个学生信息 

url:/api/student/updateStudent

method:get

请求参数：

| **字段** | **类型** | **是否必须** | **备注**                           |
| -------- | -------- | ------------ | ---------------------------------- |
| appkey   | String   | 必须         | 用户访问接口时所必须携带的身份凭据 |
| sNo      | String   | 必须         | 该学生的学号                       |
| name     | String   | 必须         | 学生姓名                           |
| sex      | int      | 必须         | 学生性别“0”是男，“1”是女           |
| birth    | int      | 必须         | 学生出生年份                       |
| phone    | String   | 必须         | 学生的手机号                       |
| address  | String   | 必须         | 学生的住址                         |
| email    | String   | 必须         | 学生邮箱                           |

返回结果：

1.修改成功时：

```json
{
  "msg":"修改成功",
  "status":"success"
}
```

2.修改失败时：

```json
{
   "msg": "未找到该学生",
   "status": "fail"
}
```

## 6.按关键字查询学生信息

 url:/api/student/searchStudent

method:get

请求参数：

| **字段** | **类型** | **是否必须** | **备注**                                                     |
| -------- | -------- | ------------ | ------------------------------------------------------------ |
| appkey   | String   | 必须         | 用户访问接口时所必须携带的身份凭据                           |
| sex      | int      | 必须         | sex = -1 时 男女同时查询  sex = 0 时 查询性别为男的同学 sex = 1 时 查询性别为女的同学 |
| search   | String   | 必须         | 查询的关键字，允许使用邮箱、学生学号和地址查询               |
| page     | int      | 必须         | 第几页的页数，page值至少为1                                  |
| size     | int      | 必须         | 每页显示的数量，size值至少为1                                |

返回结果：

1.查询成功返回

| **字段** | **类型**      | **是否必须** | **备注**         |
| -------- | ------------- | ------------ | ---------------- |
| status   | String        | 是           | 查询结果的状态   |
| msg      | String        | 是           | 查询结果的信息   |
| count    | int           | 必须         | 满足条件的结果和 |
| data     | List<Student> | 必须         | 学生信息集合     |

示例：

```json
{
    "msg":"查询成功",
    "data":{
        "searchList":[{
            "id":8,
            "name":"张某某2",
            "sNo":"11011",
            "sex":1,
            "address":"黑龙江省哈尔滨市XXXX",
            "appkey":"demo13_1545210570249",
            "birth":1997,
            "email":"382246268@qq.com",
            "phone":"18846411586",
            "ctime":1547190833,
            "utime":1547190833
         }],
         "cont":4
    },
    "status":"success"
}
```

## 7.学生管理系统的登录

url:/api/student/stuLogin

method:post

请求参数：

| **字段** | **类型** | **是否必须** | **备注**                           |
| -------- | -------- | ------------ | ---------------------------------- |
| appkey   | String   | 必须         | 用户访问接口时所必须携带的身份凭据 |
| account  | String   | 必须         | 用来登录学生管理系统的帐号         |
| password | String   | 必须         | 用来登录学生管理系统的密码         |

## 返回结果：

1.注册成功返回

| **字段** | **类型** | **是否必须** | **备注**       |
| -------- | -------- | ------------ | -------------- |
| status   | String   | 是           | 登录的结果状态 |
| msg      | String   | 是           | 登录的结果信息 |

## 示例：

1.登录成功返回结果

```json
{
    "msg":"登录成功",
    "status":"success"
}
```

2.登录失败返回结果

  1> 帐号出错时

```json
{
  "msg":"找不到该用户",
  "status":"fail"
}
```

  2> 密码错误时

```json
{
   "msg":"密码错误",
   "status":"fail"
}
```

## 8.学生管理系统的注册

 url:/api/student/stuRegister

method:post

请求参数：

| **字段**   | **类型** | **是否必须** | **备注**                           |
| ---------- | -------- | ------------ | ---------------------------------- |
| appkey     | String   | 必须         | 用户访问接口时所必须携带的身份凭据 |
| account    | String   | 必须         | 用来登录学生管理系统的帐号         |
| username   | String   | 必须         | 用户名                             |
| password   | String   | 必须         | 用来登录学生管理系统的密码         |
| rePassword | String   | 必须         | 确认密码                           |

## 返回结果：

1.成功返回

| **字段** | **类型** | **是否必须** | **备注**       |
| -------- | -------- | ------------ | -------------- |
| status   | String   | 是           | 注册结果的状态 |
| msg      | String   | 是           | 注册结果的信息 |

## 示例：

1.注册成功返回结果

```json
{
    "msg":"注册成功",
    "status":"success"
}
```

2.注册失败返回结果

```json
{
    "msg":"xxxxx",
    "status":"fail"
}
```